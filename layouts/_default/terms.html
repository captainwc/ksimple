{{ partial "header.html" . }}

<main class="terms-container">
  <h1>{{ .Title }}</h1>

  <div class="taxonomy-grid">
    {{ $terms := .Pages }}
    {{ $sortedTerms := slice }}
    {{ range $terms }}
      {{ $count := len .Pages }}
      {{ $sortedTerms = $sortedTerms | append (dict "term" . "count" $count) }}
    {{ end }}
    {{ $sortedTerms = sort $sortedTerms "count" "desc" }}

    {{ range $sortedTerms }}
      <article class="taxonomy-card">
        <a href="{{ .term.RelPermalink }}" class="card-link">
          <h1 class="card-title">{{ .term.Title }}</h1>
          <div class="card-meta">
            <span class="post-count">{{ .count }} 篇文章</span>
          </div>
        </a>
      </article>
    {{ end }}
  </div>
</main>

{{ partial "footer.html" . }}
